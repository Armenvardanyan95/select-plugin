!function(){"use strict";angular.module("select.plugin",[])}(),function(){"use strict";function e(e){function l(l,t,a,n){$(function(){var i=l.$eval(a.selectPlugin)||{};a.placeholder&&(i.placeholder=a.placeholder),$(t).select2(i),a.multiple?l.$watchCollection(a.ngModel,function(l){e(function(){Array.isArray(l)&&0!=l.length&&"undefined"!=typeof l&&(i.tags&&(l=$.unique(l.sort()),$(t).children("option").remove(),$.each(l,function(e,l){$(t).append($("<option></option>").val(l).html(l))}),$(t).select2(i)),$(t).val(l).trigger("change"),$(t).val(l).trigger("change"))},200)},!0):l.$watch(a.ngModel,function(l,a){e(function(){if(null!=l&&("string"!=typeof l||0!=l.length)){var e=$(t).is(":disabled");if(e)return $(t).prop("disabled",!1),$(t).val(l).trigger("change"),void $(t).prop("disabled",!0);$(t).val(l).trigger("change")}})}),e(function(){l.$apply()}),$(t).on("select2:select",function(e){if(a.multiple){if(angular.isArray(n.$modelValue))var t=n.$modelValue;else var t=[];i.tags&&(t=$.unique(t.sort())),t.push(e.params.data.id),n.$setViewValue(t)}else n.$setViewValue(e.params.data.id);l.$broadcast("select-change:"+a.name)}),$(t).on("select2:unselect",function(e){if(a.multiple){if(!angular.isArray(n.$modelValue))return!1;var t=n.$modelValue;t.splice(t.indexOf(e.params.data.id),1),n.$setViewValue(t)}else n.$setViewValue("");l.$broadcast("select-change:"+a.name)})})}var t={link:l,restrict:"A",require:"ngModel"};return t}angular.module("select.plugin").directive("selectPlugin",e),e.$inject=["$timeout"]}();